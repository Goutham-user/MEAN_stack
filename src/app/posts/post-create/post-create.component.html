<mat-card>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form [formGroup]="form" (submit)="onSavePost()" *ngIf="!isLoading">
        <!-- Title -->
        <!-- <span> Enter Title</span> -->
        <mat-form-field>
            <input matInput placeholder="Enter Title" formControlName="title" type="text">
            <mat-error *ngIf="form.get('title').invalid">{{'Please enter proper title which has more than 3 charecters'}}</mat-error>
        </mat-form-field>
    
        <!-- desc -->
        <!-- <span>Enter desc:</span> -->
        <mat-form-field>
            <input matInput type="text" placeholder="Enter Description" formControlName="description">
            <mat-error *ngIf="form.get('description').invalid">{{'Please enter proper description'}}</mat-error>
        </mat-form-field>
        <!-- Content -->
        <!-- <span>Enter content:</span> -->
        <mat-form-field>
            <!-- templateform implementation
            <textarea matInput id="text-feild" placeholder="Enter Content"  cols="60" rows="6" [ngModel]="post?.content" name="content" required #content="ngModel"></textarea> -->
            <textarea matInput id="text-feild" placeholder="Enter Content" formControlName="content"  rows="6"></textarea>
            <mat-error *ngIf="form.get('content').invalid">{{'Please enter proper message'}}</mat-error>
        </mat-form-field>
        <div>
            <button mat-stroked-button type="button" (click)="filepicker.click()">Select Image</button>
            <input type="file" #filepicker (change)="onFileUpload($event)">
            <ng-container *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
                <div class="image-preview">
                    <img [src]="imagePreview" [alt]="form.value.title">
                </div>
            </ng-container>

            <br><br>
        </div>
        <button mat-raised-button class="mat-focus-indicator mat-raised-button mat-button-base mat-primary" id="text-feild-save-btn" type="submit" [disabled]="form.invalid">{{'Save post'}}</button>
    </form>
</mat-card>

<!-- <p class="message">{{ newPost }}</p> -->
